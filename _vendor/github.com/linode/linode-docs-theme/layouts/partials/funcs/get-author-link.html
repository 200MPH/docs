{{ $author :=  . }}
{{ $link := .name}}
{{ $name := .name}}
{{ with .email }}
  {{ if strings.HasPrefix . "http"}}
    {{/* link to a website  */}}
    {{ $link = printf `<a href="%s" target="_blank">%s</a>` . $name }}
  {{ else if strings.HasPrefix . "@"}}
    {{/* link to a Twitter handle  */}}
    {{ $handle := strings.TrimPrefix "@" . }}
    {{ $link = printf `<a href="https://twitter.com/%s" target="_blank">%s</a>` $handle $name }}
  {{ else if strings.Contains . "@" }}
    {{/* link to an email  */}}
    {{ $email := strings.TrimPrefix "mailto:" . }}
    {{ $link = printf `<a href="mailto:%s" target="_blank">%s</a>` $email $name }}
  {{ else }}
    {{/* just print the name  */}}
  {{ end }}
{{ end }}
{{ return ($link | safeHTML) }}